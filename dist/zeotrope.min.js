/*!
 * zeotrope.js 1.0.0 <>
 * Contributor(s): Kai Lam <kai.chun.lam@gmail.com>
 * Last Build: 2015-04-24
*/


!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a){this.el=a,this.ctx=this.el.getContext("2d"),this._resizeHandler=this._onResize.bind(this),window.addEventListener(this._resizeHandler),this.onResize()}function e(a){var b=a.split(" ");return{width:b[0],height:1===b[1].length?b[0]:b[1]}}function f(a,b,c){var d=b.height/b.width;return{w:void 0!==a.w?a.w*c.width:a.h*c.height/d,h:void 0!==a.h?a.h*c.height:a.w*c.w*d}}function g(a,b,c){var d=b.height/b.width,e=c.height/c.width,f="cover"===a?e>d:d>e;return f?{width:c.height/d,height:c.height}:{width:c.width,height:c.width*d}}var h=a("./helpers");b.exports=d,d.prototype={resized:!1,_onResize:function(){var a=this.el.offsetWidth,b=this.el.offsetHeight;a!==this.width&&b!==this.height&&(this.width=a,this.height=b,this.el.setAttribute("width",this.width),this.el.setAttribute("height",this.height),this.resized=!0)},getPos:function(){},getScale:function(a,b){if("auto"===b)return h;if("cover"===b||"contain"===b)return g(b,a,this);var c=e(b);return-1===b.indexOf("%")?c:f(c)},clear:function(){this.ctx.clearRect(0,0,this.width,this.height)},remove:function(){window.removeEventListener(this._resizeHandler),this.el.parentElement.removeChild(this.el)}}},{"./helpers":5}],2:[function(a,b,c){"use strict";function d(a){var b=this.opt=e.extend({},g,a);this.easing=f[b.easing],this.start=b.start instanceof Date?b.start:new Date,this.end=b.end instanceof Date?b.end:new Date(this.start.getTime()+b.duration),this.duration=this.end-this.start}var e=a("./helpers.js"),f=a("./easings.js");b.exports=d;var g={easing:"linear",start:null,end:null,duration:1e3,iterate:1};d.prototype={getProgress:function(a){var b=a||new Date;return b<this.start?0:b>this.end?1:this.easing((b-this.start)/this.duration)},reverse:function(){},pause:function(){},play:function(){},goTo:function(){}}},{"./easings.js":3,"./helpers.js":5}],3:[function(a,b,c){"use strict";b.exports={linear:function(a){return a},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return a*(2-a)},easeInOutQuad:function(a){return.5>a?2*a*a:-1+(4-2*a)*a},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return--a*a*a+1},easeInOutCubic:function(a){return.5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return 1- --a*a*a*a},easeInOutQuart:function(a){return.5>a?8*a*a*a*a:1-8*--a*a*a*a},easeInQuint:function(a){return a*a*a*a*a},easeOutQuint:function(a){return 1+--a*a*a*a*a},easeInOutQuint:function(a){return.5>a?16*a*a*a*a*a:1+16*--a*a*a*a*a}}},{}],4:[function(a,b,c){"use strict";var d=a("./helpers");b.exports={listeners:[],status:0,_frame:function(){this.status&&(this.execute(),window.requestAnimationFrame(this._frame.bind(this)))},start:function(){this.status=1,window.requestAnimationFrame?this._frame():this._intvl=window.setInterval(this._frame.bind(this),16)},stop:function(){this.status=0,this._intvl&&window.clearInterval(this._intvl)},execute:function(){for(var a=0;a<this.listeners.length;a++)this.listeners[a]()},add:function(a){return this.listeners.length||this.start(),this.listeners.push(a),a},remove:function(a){d.remove(this.listeners,a),this.listeners.length||this.stop()}}},{"./helpers":5}],5:[function(a,b,c){"use strict";b.exports={extend:function(){for(var a=1;a<arguments.length;a++)for(var b in arguments[a])arguments[a].hasOwnProperty(b)&&(arguments[0][b]=arguments[a][b]);return arguments[0]},extract:function(a,b){for(var c={},d=0;d<b.length;d++)c[b[d]]=a[b[d]]},remove:function(a,b){return a.splice(a.indexOf(b),1)}}},{}],6:[function(a,b,c){"use strict";function d(a){this.opt=f.extend({},g,a),this.time=new e(a.time),this.draw=this.opt.draw}var e=a("./../core/Timeline.js"),f=a("./../core/helpers.js");b.exports=d;var g={fillMode:"none",time:{},draw:function(){}};d.prototype={render:function(a){var b=this.time.getProgress();this.isFill(b)&&this.draw(a,b)},isFill:function(a){var b=this.opt.fillMode;return"none"!==b||0!==a&&1!==a?"forward"===b&&0===a?!1:"backward"===b&&1===a?!1:!0:!1},detach:function(){this._zeotrope&&this._zeotrope.detach(this)}}},{"./../core/Timeline.js":2,"./../core/helpers.js":5}],7:[function(a,b,c){"use strict";function d(a,b){this.canvas=a,this.opt=f.extend({},g,b),this.el=new Image,this.el.onload=this.onLoad.bind(this),this.el.src=this.opt.src}function e(a,b,c){if("auto"===a)return{w:b.width,h:b.height};var d=b.height/b.width,e=c.height/c.width,f="cover"===a?e>d:d>e;return f?{w:c.height/d,h:c.height}:{w:c.width,h:c.width*d}}var f=a("./../core/helpers.js");b.exports=d;var g={src:"",size:"auto",position:"center"};d.prototype={width:0,height:0,draw:function(){this.loaded&&this.canvas.ctx.drawImage(this.x,this.y,this.width,this.height)},onLoad:function(){this.loaded=!0},getSize:function(){if("string"==typeof this.opt.size){var a=e(this.opt.size,this.el,this.canvas);this.width=a.w,this.height=a.h}},getPosition:function(){}}},{"./../core/helpers.js":5}],8:[function(a,b,c){"use strict";function d(a){this.canvas=new e(a),this.frame=f.add(this.render.bind(this))}var e=a("./core/Canvas.js"),f=a("./core/frame.js"),g=a("./render/Anim.js"),h=a("./core/helpers.js");window.Zeotrope=d,d.prototype={anims:[],anim:function(a){var b=new g(a);return b._zeotrope=this,this.anims.push(b),b},detach:function(a){h.remove(this.anims,a)},render:function(){this.canvas.clear();for(var a=0;a<this.anims.length;a++)this.anims[a].render(this.canvas);this.canvas.resized=!1},remove:function(){f.remove(this.frame),this.canvas.remove()}}},{"./core/Canvas.js":1,"./core/frame.js":4,"./core/helpers.js":5,"./render/Anim.js":6}]},{},[1,2,3,4,5,6,7,8]);